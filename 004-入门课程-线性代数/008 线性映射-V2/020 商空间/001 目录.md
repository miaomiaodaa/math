**集合的划分**  
引例: 构造日期与星期之间的对应法则  
(给定一个日期，有且只有唯一的星期与之对应，反之不成立)  
首先构造日期与整数集的一一对应  
星期日 $H_0=\\{7k+0|k\in\mathbb Z\\}=\\{x|x\equiv0\pmod7\\}=\bar0$  
星期一 $H_1=\\{7k+1|k\in\mathbb Z\\}=\\{x|x\equiv1\pmod7\\}=\bar1$  
星期二 $H_2=\\{7k+2|k\in\mathbb Z\\}=\\{x|x\equiv2\pmod7\\}=\bar2$  
星期三 $H_3=\\{7k+3|k\in\mathbb Z\\}=\\{x|x\equiv3\pmod7\\}=\bar3$  
星期四 $H_4=\\{7k+4|k\in\mathbb Z\\}=\\{x|x\equiv4\pmod7\\}=\bar4$  
星期五 $H_5=\\{7k+5|k\in\mathbb Z\\}=\\{x|x\equiv5\pmod7\\}=\bar5$  
星期六 $H_6=\\{7k+6|k\in\mathbb Z\\}=\\{x|x\equiv6\pmod7\\}=\bar6$  
$\mathbb Z=H_0\cup H_1\cup H_2\cup H_3\cup H_4\cup H_5\cup H_6$  
$H_i\cap H_j=\emptyset$  
(缺失知识: 负整数带余除法)  
  
定义: 集合的划分  
若集合 $S$ 是它的若干非空子集的并集，且其中任意两个不相等子集的交集是空集，那么把这些子集组成的集合称为原集合 $S$ 的一个划分  
(划分是集合，虽然它是一个动词，但在这里变成了名称)  
(划分未必是有限集)  
  
划分举例: $\\{H_0,H_1,H_2,H_3,H_4,H_5,H_6\\}$ 是 $\mathbb Z$ 的一个划分  
  
**二元关系**  
引问: 任给一个集合，是否能找到一种普适的划分方法  
  
引例: $a$ 与 $b$ 被7除后有相同的余数， $a\equiv b\mod7$  
任意给定两个整数 $a,b$ 被7除后，要么余数相同，要么余数不同  
$a$ 与 $b$ 具有同余关系 $\Leftrightarrow(a,b)\in(H_0\times H_0)\cup\cdots\cup(H_6\times H_6)$  
  
定义: 二元关系  
设 $S$ 是一个非空集合， $S\times S$ 的一个非空子集 $W$ 称为 $S$ 上的一个二元关系，若 $(a,b)\in W$ ，则称 $a$ 与 $b$ 具有 $W$ 关系，若 $(a,b)\not\in W$ ，则称 $a$ 与 $b$ 没有 $W$ 关系  
$a$ 与 $b$ 要么具有关系 $W$ ，要么不具有关系 $W$  
$a$ 与 $b$ 要么属于集合 $W$ ，要么不属于集合 $W$  
二者必举其一，且只矩其一  
  
定义: 等价(二元)关系  
$S$ 上的一个二元关系，如果满足反身性，对称性，传递性  
(同时给出了这三个性质的定义)，那么称这个二元关系是 $S$ 上的一个等价关系  
(为了保证 $V_i\cap V_j=\emptyset$ 引入等价二元关系)  
(单纯的二元关系不足以保证“相交为空”)  
  
**等价类**  
定义: 等价类  
设 $\sim$ 是集合 $S$ 上的一个等价二元关系，任取 $a\in S$ ，令 $\bar a=\\{x\sim a|x\in S\\}$ ，则称 $\bar a$ 是 $a$ 的等价类  
(所有与 $a$ 有关系的元素组成的集合，称为 $a$ 的等价类)  
  
命题1: $x\in\bar a\Leftrightarrow x\sim a$  
  
定义: 代表元  
$a\in\bar a$ 称为 $\bar a$ 的代表元  
  
举例: 模7剩余类是 $\mathbb Z$ 的一个划分  
定义: 模7的剩余类  
星期日 $H_0=\\{7k+0|k\in\mathbb Z\\}=\\{x|x\equiv0\pmod7\\}=\bar0$  
星期一 $H_1=\\{7k+1|k\in\mathbb Z\\}=\\{x|x\equiv1\pmod7\\}=\bar1$  
星期二 $H_2=\\{7k+2|k\in\mathbb Z\\}=\\{x|x\equiv2\pmod7\\}=\bar2$  
星期三 $H_3=\\{7k+3|k\in\mathbb Z\\}=\\{x|x\equiv3\pmod7\\}=\bar3$  
星期四 $H_4=\\{7k+4|k\in\mathbb Z\\}=\\{x|x\equiv4\pmod7\\}=\bar4$  
星期五 $H_5=\\{7k+5|k\in\mathbb Z\\}=\\{x|x\equiv5\pmod7\\}=\bar5$  
星期六 $H_6=\\{7k+6|k\in\mathbb Z\\}=\\{x|x\equiv6\pmod7\\}=\bar6$  
$\mathbb Z=H_0\cup H_1\cup H_2\cup H_3\cup H_4\cup H_5\cup H_6$  
  
**等价类的性质**  
命题1: $\bar a=\bar b\Leftrightarrow a\sim b$  
  
命题2: 若 $\bar a\neq\bar b$ ，则 $\bar a\cap\bar b=\emptyset$  
  
**基于等价关系得到的划分**  
主定理: 所有等价类构成的集合是一个划分  
<font color=red>若集合 $S$ 存在一个等价关系 $\sim$ ，那么所有等价类组成的集合就是 $S$ 的一个划分</font>  
$\underset{a\in S}\cup\bar a=\\{x\in S|存在c\in S，使得x\sim\bar c\\}$  
  
注:反之也成立，<font color=red>即若集合 $S$ 存在一个划分，那么可以在 $S$ 上建立一个等价关系，使得该划分是由所有等价类组成的</font>  
  
(已知划分，从这个划分出发可得到一个等价类)  
(再从这个等价类出发，可以再得到一个划分，且这个划分与原划分相等)  
  
举例: 同构是集合 $\Omega=\\{数域K上的全体线性空间\\}$ 上的一个等价关系，所有同构类(等价类)组的的集合就是 $\Omega$ 的一个划分  
$\overline{\mathbf0}=\\{\mathbf0\\}$  
$\overline{K}=\\{一维的线性空间\\}$  
$\overline{K^2}=\\{二维的线性空间\\}$  
$\cdots$  
$\overline{K^n}=\\{n维的线性空间\\}$  
(体现了第三条途径: 通过同构类来研究线性空间)  
(等价类:模7剩余类、同构类)  
  
---  
  
**商集**  
(开始讲研究线性空间的第四条途径)  
定义1: 商集  
集合 $S$ 的一个划分也成为 $S$ 的一个商集，即所有等价类组成的集合  
(划分=商集=所有等价类组成的集合)  
举例: $\mathbb{Z}/(7)=\\{H_0,H_1,H_2,H_3,H_4,H_5,H_6\\}$  
  
**陪集**  
引例1: 三维欧几里得空间的划分  
过原点的平面 $\Pi_0$ ，无穷个平行平面的并集，  
商集是无穷集  
$\gamma_1\sim\gamma_2\Leftrightarrow\gamma_1,\gamma_2$ 在同一平面内 $\Leftrightarrow\gamma_1-\gamma_2\in\Pi_0$  
  
定理1: 在线性空间上，构造一个等价的二元关系  
设 $V$ 是数域 $K$ 上的一个线性空间， $W$ 是 $V$ 的一个子空间，则 $\alpha\sim\beta$ 定义为 $\alpha-\beta\in W$ 是一个二元等价类  
(前面定理说任何一个集合都存在一个等级二元关系，现在这个定理把这个二元等价关系构造出来了)  
(加法封闭证明传递性，数乘封闭证明对称性，向量属于子空间怎么对称性)  
  
定理2: 基于上面构造的等价关系，构造一个划分  
(~~定理1+定理2证明了上述的反之也成立~~)  
先构造等价类 $\bar\alpha=\\{\beta\in V|\beta\sim\alpha\\}$  
$=\\{\beta\in V|\beta-\alpha\in W\\}$  
$=\\{\beta\in V|\beta-\alpha=\eta,\eta\in W\\}$  
$=\\{\beta\in V|\beta=\alpha+\eta,\eta\in W\\}$  
$=\\{\alpha+\eta|\eta\in W\\}$  
$=\alpha+W$  
$\Rightarrow\alpha$ 的等价类 $\bar\alpha=\alpha+W$ ，称为 $W$ 的一个陪集， $\alpha$ 称为陪集代表  
(等价类= $W$ 的陪集)  
(商集中的每个元素称为陪集)  
全体等价类组成的集合是 $S$ 的一个商集  
  
推论1: $\alpha+W=\gamma+W\Leftrightarrow\alpha\\sim\gamma$  
  
推论2: $\alpha+W=\gamma+W\Leftrightarrow\alpha\-\gamma\in W$  
  
推论3: 陪集 $\alpha+W$ 代表不唯一  
  
推论4: $\eta\in W\Leftrightarrow$ 以 $\eta$ 为代表的等价类的陪集就是 $W$ 本身  
$\eta\in W\Leftrightarrow\eta-\mathbf0\in W\Leftrightarrow\eta+W=\mathbf0+W=W$  
$\eta\in W\Leftrightarrow\eta+W=W$  
  
定义: 线性空间的商集  
$V/W=\\{\alpha+W|\alpha\in V\\}$  
  
**商空间**  
定理1: 线性空间的商集是商空间  
1 定义加法，加法具有封闭性  
$(v+W)+(u+W)=(v+u)+W$  
$(\omega+W)+(\mu+W)=(\omega+\mu)+W$  
$(v+u)-(\omega+\mu)$  
$=(v-\omega)+(u-\mu)\in W$  
$\Rightarrow(v+u)\sim(\omega+\mu)$  
即这样定义的加法是有意义的  
  
符合等价类的定义  
$\bar v+\bar u=\overline{v+u}=\\{\omega+w\mid w\in W\\}$  
  
2 定义数乘，数乘具有封闭性  
$\lambda\cdot(v+W)=\lambda\cdot v+W$  
$\lambda\cdot(\mu+W)=\lambda\cdot\mu+W$  
$\lambda\cdot v-\lambda\cdot\mu$  
$=\lambda\cdot(v-\mu)\in W$  
$\Rightarrow\lambda\cdot v\sim\lambda\cdot\mu$  
即这样定义的数乘是有意义的  
  
3 满足加法与数乘的8条运算律  
加法交换律： $\bar v+\bar u=\bar u+\bar v$  
加法结合律： $(\bar v+\bar u)+\bar w=\bar v+(\bar u+\bar w)$  
加法零元： $\mathbf0_V+W$  
(子空间本身是商集的一个零元)  
加法负元： $-v+W$  
数乘单位元： $1\cdot\bar v$  
数乘结合律： $(kl)\bar v=k(l\bar v)$  
数乘左分配： $(k+l)\bar v=k\cdot\bar v+l\cdot\bar v$  
数乘右分配： $k\cdot(\bar v+\bar u)=k\cdot\bar v+k\cdot\bar u$  
(划分 $\to$ 商集，等价类 $\to$ 陪集，商空间)  
  
**利用商空间研究线性空间结构**  
**定理1:** 商空间维数公式  
$\rm{dim}(V/W)=\rm{dim}(V)-\rm{dim}(W)$  
  
证明：  
取 $W$ 的一个基 $(e_1,e_2,\cdots,e_r)$ ，扩张成 $V$ 的一个基 $(e_1,e_2,\cdots,e_r,e_{r+1},\cdots,e_n)$  
任取 $v+W\in V/W$  
$\Rightarrow v=c_1\cdot e_1+c_2\cdot e_2+\cdots+c_r\cdot e_r+c_{r+1}\cdot e_{r+1}+\cdots+c_n\cdot e_n$  
$\Rightarrow v+W=(c_1\cdot e_1+\cdots+c_n\cdot e_n)+W$  
$=(c_1\cdot e_1+W)+\cdots+(c_n\cdot e_n+W)$  
$=c_1\cdot(e_1+W)+\cdots+c_r\cdot(e_r+W)+c_{r+1}\cdot(e_{r+1}+W)+\cdots+c_n\cdot(e_n+W)$  
注意到 $e_1,\cdots,e_r\in W$  
$\Rightarrow e_1+W=\cdots=e_r+W=W$  
$=c_1\cdot W+\cdots+c_r\cdot W+c_{r+1}\cdot(e_{r+1}+W)+\cdots+c_n\cdot(e_n+W)$  
$=c_{r+1}\cdot(e_{r+1}+W)+\cdots+c_n\cdot(e_n+W)$  
  
设 $k_1\cdot(e_{r+1}+W)+\cdots+k_{n-r}\cdot(e_n+W)=W$  
$=(k_1\cdot e_{r+1}+\cdots+k_{n-r}\cdot e_n)+W=W$  
$\Rightarrow\omega=k_1\cdot e_{r+1}+\cdots+k_{n-r}\cdot e_n\in W$  
$\Rightarrow\omega$ 可由 $(e_1,\cdots,e_r)$ 线性表出  
$\Rightarrow k_1\cdot e_{r+1}+\cdots+k_{n-r}\cdot e_n=  
l_1\cdot e_1+\cdots+l_r\cdot e_r$  
又因为 $e_1,\cdots,e_n$ 线性无关  
$\Rightarrow k_1=\cdots=k_{n-r}=l_1=l_r=0$  
  
**推论1**： $V=<e_1,\cdots,e_r>+<e_{r+1},\cdots,e_n>$  
$V=W\oplus U$  
(这样看，生成子空间与直和分解有密切联系)  
**推论2:** $(e_{r+1}+W,\cdots,e_n+W)$ 是 $V/W$ 的一个基  
  
**本模块核心定理**: 利用商空间进行直和分解  
若已知 $(e_{r+1}+W,\cdots,e_n+W)$ 是 $V/W$ 的一个基，陪集的代表元 $(e_{r+1},\cdots,e_n)$ 生成的子空间记作 $U$ ，则 $V=W\oplus U$  
  
设 $(f_1+W,\cdots,f_t+W)$ 是 $V/W$ 的一个基， $U=\mathbf{L}(f_1,\cdots,f_t)$ ，则 $V=W\oplus U$ ，且 $(f_1,\cdots,f_t)$ 是 $U$ 的一个基  
  
(陪集代表元未必线性无关，所以需要证明)  
(意义：得到了 $V$ 的一个直和分解，利用商空间研究线性空间结构)  
(商空间的基 $\xrightarrow{提取代表元}$ 生成子空间 $\to$ 全空间直和分解)  
  
  
证明：  
任取 $\alpha\in V$  
$\Rightarrow\alpha+W=c_1\cdot(f_1+W)+\cdots+c_t\cdot(f_t+W)$  
$=(c_1\cdot f_1+\cdots+c_t\cdot f_t)+W$  
$\Rightarrow\alpha-(c_1\cdot f_1+\cdots+c_t\cdot f_t)\in W$  
令 $\beta=c_1\cdot f_1+\cdots+c_t\cdot f_t\in U$  
$\Rightarrow\eta=\alpha-\beta\in W$  
$\Rightarrow\alpha=\eta+\beta,\ \eta\in W,\ \beta\in U$  
$\Rightarrow\alpha\in W+U$  
$\Rightarrow V\subseteq W+U$  
又因为 $V$ 是全空间  
$\Rightarrow V\supseteq W+U$  
$\Rightarrow V=W+U$  
  
任取 $\eta\in W\cap U$  
$\eta\in U\Rightarrow\eta=k_1\cdot f_1+\cdots+k_t\cdot f_t$  
$\eta\in W\Rightarrow\eta+W=W$  
$\Rightarrow W=\eta+W=(k_1\cdot f_1+\cdots+k_t\cdot f_t)+W$  
$\Rightarrow W=k_1\cdot(f_1+W)+\cdots+k_t\cdot(f_t+W)$  
(商空间基的线性组合 $=$ 商空间的零元)  
(这步是关键，丘打哏了)  
$\Rightarrow k_1=\cdots=k_t=0$  
$\Rightarrow\eta=\mathbf0_V$  
$\Rightarrow V=W\oplus U$  
  
设 $k_1\cdot f_1+\cdots+k_t\cdot f_t=\mathbf0_V$  
$W=\mathbf0_V+W=(k_1\cdot f_1+\cdots+k_t\cdot f_t)+W$  
$\Rightarrow W=k_1\cdot(f_1+W)+\cdots+k_t\cdot(f_t+W)$  
(再用一次，商空间基的线性组合 $=$ 商空间的零元)  
$\Rightarrow k_1=\cdots=k_t=0$  
$\Rightarrow(f_1,\cdots,f_t)$ 是 $U$ 的一个基  
  
说明： $V$ 与 $W$ 都可以是无限维，但商空间必须是有限维  
